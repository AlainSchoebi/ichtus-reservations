<!DOCTYPE html>
<html>
<head>

    <!-- !! -->
    <!-- Ajouter les transitions pour les différents exploreurs + box shadows + border radius -->
    <!-- Keyupdown sur le premier input code embarcation n'importe quoi...-->
    <!-- Si personne a déjà une sortie -> voir les sorties actuelles de la personne -->



    <meta charset="utf-8" />
    <title>Cahier de sortie</title>

    <!-- Style Sheets -->
    <link href="General.css" rel="stylesheet" />
    <link href="Top.css" rel="stylesheet" />
    <link href="Bottom.css" rel="stylesheet" />
    <link href="Cahier.css" rel="stylesheet" />
    <link href="CahierTop.css" rel="stylesheet" />
    <link href="CahierTopList.css" rel="stylesheet" />
    <link href="CahierMember.css" rel="stylesheet" />
    <link href="CahierInfos.css" rel="stylesheet" />
    <link href="CahierMaterielChoice.css" rel="stylesheet" />
    <link href="CahierMaterielBookable.css" rel="stylesheet" />
    <link href="CahierMaterielOptions.css" rel="stylesheet" />
    <link href="CahierMaterielCode.css" rel="stylesheet" />
    <link href="CahierMaterielCategories.css" rel="stylesheet" />
    <link href="CahierMaterielElements.css" rel="stylesheet" />
    <link href="CahierConfirmation.css" rel="stylesheet" />
    <link href="PopUpBookableHistory.css" rel="stylesheet" />
    <link href="PopUpUser.css" rel="stylesheet" />
    <link href="PopUpGuest.css" rel="stylesheet" />
    <link href="PopUpCahierInfos.css" rel="stylesheet" />
    <link href="PopUpCahierBookable.css" rel="stylesheet" />
    <link href="PopUpLogin.css" rel="stylesheet" />
    <link href="PopUpStats.css" rel="stylesheet" />
    <link href="PopUpAlert.css" rel="stylesheet" />

    <!-- JavaScript Files -->
    <script src="Home.js"></script>
    <script src="ServerRequests.js"></script>
    <script src="Screen.js"></script>
    <script src="Top.js"></script>
    <script src="Bottom.js"></script>
    <script src="Cahier.js"></script>
    <script src="CahierMethods.js"></script>
    <script src="CahierTop.js"></script>
    <script src="CahierTopList.js"></script>
    <script src="CahierInfos.js"></script>
    <script src="CahierMaterielChoice.js"></script>
    <script src="CahierMaterielCode.js"></script>
    <script src="CahierMaterielCategories.js"></script>
    <script src="CahierMaterielElements.js"></script>
    <script src="PopUpBookingFinish.js"></script>
    <script src="PopUpBookable.js"></script>
    <script src="PopUpBookableHistory.js"></script>
    <script src="PopUpBooking.js"></script>
    <script src="PopUpUser.js"></script>
    <script src="PopUpGuest.js"></script>
    <script src="PopUpCahierInfos.js"></script>
    <script src="PopUpCahierBookable.js"></script>
    <script src="PopUpLogin.js"></script>
    <script src="PopUpStats.js"></script>
    <script src="PopUpAlert.js"></script>

    <script type="text/javascript" src="https://my.ichtus.ch/vanilla/runtime.js"></script>
    <script type="text/javascript" src="https://my.ichtus.ch/vanilla/main.js"></script>

    <!--Favicon-->
    <link rel="icon" href="Img/favicon.ico" />

</head>
<body onload="load();">

    <!-- Top Bar -->
    <div id="divTopBar">

        <div id="divTopBarLogo" onclick="newTab('divTabCahier')" ;>
            <img src="Img/Logo/white_circle.svg" alt="?" />
            <img src="Img/Logo/circle.svg" alt="?" />
            <img src="Img/Logo/fish.svg" alt="?" />
            <img src="Img/Logo/background_transparent.svg" alt="?" />
        </div>

        <div id="divTopBarText">Cahier de sortie</div>
        <div id="divTopBarTime" onclick=""></div>

    </div>

    <!-- Left Bar & Right Bar -->
    <div id="divLeftBar"></div>
    <div id="divRightBar"></div>

    <!-- Div Screen -->
    <div id="divScreen">

        <!--Div Tab Cahier-->
        <div id="divTabCahier" class="divTab">

            <div style="margin-top:120px; position:relative;"></div>
            <div style="font-size:25px; margin-bottom:5px; text-align:center;">Nouvelle sortie</div>

            <div style="text-align:center; width:100%;">
                <div title="Annoncer une nouvelle sortie" class="Buttons ValidateButtons" style="display:inline-block; width:350px;height:70px; border-radius:25px; line-height:70px; padding-top:0px; text-align:center; background-image:none;" onclick="newTab('divTabCahierMember');">Annoncer une sortie</div>
            </div>

            <!--</div>-->
            <div id="divTabCahierToolTip" style="text-align:center; font-size:15px; margin-top:5px; margin-bottom:5px; color:gray;"><br /><br /></div>

            <div id="divTabCahierTables">

                <input autocomplete="off" id="inputTabCahierActualBookingsSearch" type="text" value="" spellcheck="false" placeholder="Rechercher" onkeyup="Requests.getActualBookingList();" style="margin-top:-10px;" />
                <div id="divTabCahierActualBookingsSearchTitle" class="BookingsTableText" style="margin-top:0px;">Sorties en cours</div>

                <div id="divTabCahierTableActualBookings" class="BookingsTable">
                    <div id="divTabCahierTableActualBookingsTopBar" class="TableEntries TableTopBar">

                        <div class="BookingsTopBarSorted" id="0" title="Heure de départ">
                            <div></div><img src="Img/IconStart.png" alt="rip" />
                        </div><div id="1"  title="Nombre de participants">
                            <div></div><img src="Img/IconParticipantCount.png" alt="rip" />
                        </div><div id="2"  title="Responsable">
                            <div></div><img src="Img/IconResponsible.png" alt="rip" />Responsable
                        </div><div id="3"  title="Embarcations">
                            <div></div><img src="Img/IconSail.png" alt="rip" />Embarcations
                        </div><div id="4"  title="Destination">
                            <div></div><img src="Img/IconDestination.png" alt="rip" />Destination
                        </div><div id="5" title="Commentaire de départ">
                            <div></div><img src="Img/IconStartComment.png" alt="rip" />Commentaire
                        </div><div id="6">
                            <div></div>
                        </div>

                    </div>
                    <div style="position:absolute; width:100%; background-color:gray; height:2px; z-index:2;"></div>
                </div>

                <div id="divTabCahierAlertButtonsLegend"> <div></div>+ de 4 heures<div></div>+ de 12 heures<div></div>+ de 24 heures</div>

                <img />

            </div>

            <div style="text-align:center" id="divTabCahierButtonMoreBookingsContainer">
                <div id="" class="Buttons NormalButtons" style="width:370px;  display:inline-block; background-image:none; padding-right:0px; text-align:center;" onclick="newBookingTable(new Date(this.id));">Charger plus de sorties</div>
            </div>
            <br />
        </div>

        <!--Div Tab Cahier Top-->
        <div id="divTabCahierTop">
            <div id="divTabCahierProgressContainer">
                <div id="divTabCahierProgressReturn" title="Etape précédente"></div>
                <div id="divTabCahierProgressCancel" title="Annuler la sortie" onclick="newTab('divTabCahier')"></div>
                <div id="divTabCahierProgress"></div>
            </div>
        </div>

        <!--Div Tab Cahier Top List-->
        <div id="divTabCahierTopList">
            <div></div><div class="Buttons ValidateButtons" onclick="newTab('divTabCahierConfirmation');" title="Suivant">Suivant</div>
        </div>

        <!--Div Tab Cahier Member-->
        <div id="divTabCahierMember" class="divTab">
            <div class="divCahierSpacers"></div>       
            <div id="divTabCahierMemberContainer"></div>
            <br />
        </div>


        <!--Div Tab CahierInfos-->
        <div id="divTabCahierInfos" class="divTab">
            <div class="divCahierSpacers"></div>

            <div class="divTabCahierFieldsContainer">

                <div class="divTabCahierInfosNbrInvites TabCahierFields">
                    Nbr de participants
                    <input autocomplete="off" type="number" min="1" max="20" spellcheck="false" placeholder="1" value="1" onkeyup="writeNbrInvites(this);" onfocusin="this.value =''; writeNbrInvites(this); focusInOrOut(this,true);" onfocusout="if (this.value == '') { this.value = '1'; writeNbrInvites(this);}focusInOrOut(this,false);" />
                    <div></div>
                    <div class="divTabCahierInfosNbrInvitesPropositions PropositionsContainer">
                        <div> 1 </div><div> 2 </div><div> 3 </div><div> 4 </div><div> 5 </div><div> 8 </div><div> 10 </div>
                    </div>
                    <div style="margin-top:110px; position:absolute; text-align:center; width:100%; font-size:15px;">(Vous inclu / minimum 1)</div>


                </div><div class="divTabCahierInfosDestination TabCahierFields">
                    Destination
                    <input autocomplete="off" value="Baie" type="text" spellcheck="false" placeholder="Destination" onkeyup="writeDestination(this);" onfocusin="if (this.value == 'Baie') { this.value = '';}; focusInOrOut(this,true); writeDestination(this);" onfocusout="focusInOrOut(this,false); writeDestination(this);" /> <!--/> mmmmh ??-->
                    <div></div>
                    <div class="divTabCahierInfosDestinationPropositions PropositionsContainer">
                        <div>Baie</div><div>La Ramée</div><div>La Tène</div><div>Neuchâtel</div><div>Cudrefin</div>
                    </div>


                </div><div class="divTabCahierInfosStartComment TabCahierFields">
                    Commentaire de départ
                    <textarea spellcheck="false" placeholder="Informations, numéro de téléphone, heure estimée de retour..." value=""></textarea>
                    <div style="height:100px;"></div>
                </div>
            </div>

            <!--<div style="text-align:center; margin-left:2.5%;">Les champs avec un * sont obligatoires !</div>-->

            <br />

            <div style="text-align:center;">
                <div class="Buttons ValidateButtons" style="display:inline-block;" onclick="checkInfos();" title="Suivant">Suivant</div>
            </div>

        </div>

        <!--Div Tab CahierMaterielCode-->
        <div id="divTabCahierMaterielCode" class="divTab">
            <div class="divCahierSpacers"></div>
            <div class="divMaterielSpacers"></div>
            <br />
            <div class="Buttons ReturnButtons" onclick="newTab('divTabCahierMaterielCategories')"></div>
            <br />
            <div id="divTabCahierMaterielCodeEmbarcation">
                <input autocomplete="off" type="text" placeholder="Type" onkeyup="writeCodeMateriel(); actualizeCodeMateriel();" onfocusin="openPropositionsCodeMateriel(); actualizeCodeMateriel();" onfocusout="closePropositionsCodeMateriel();" />
                <input autocomplete="off" type="number" placeholder="Numéro" min="1" onkeyup="if (event.keyCode == 13) { validateCodeMateriel(); }; actualizeCodeMateriel();"/ >
                <div></div>
                <div>Code de l'embarcation</div>
                <div id="divTabCahierMaterielCodeEmbarcationTypeResults"></div>
                <div class="Buttons ValidateButtons" onclick="validateCodeMateriel();">Valider</div>
            </div>
        </div>

        <!-- Div Tab CahierMaterielChoice -->
        <div id="divTabCahierMaterielChoice" class="divTab">
            <div class="divCahierSpacers"></div>
            <div class="divMaterielSpacers"></div>

            <div class="MaterielChoiceContainer"></div>

            <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />

            <div style="text-align:center;">
                <div id="btnNext" class="Buttons ValidateButtons" style="display:inline-block;" onclick="if (this.classList.contains('activated')) {newTab('divTabCahierConfirmation'); }"  title="Suivant">Suivant</div>
            </div>

        </div>

        <!--Div Tab CahierMaterielBookable-->
        <div id="divTabCahierMaterielBookable" class="divTab">
            <div class="divCahierSpacers"></div>
            <div class="divMaterielSpacers">     
                <div class="Buttons ReturnButtons" onclick="newTab('divTabCahierMaterielChoice')"></div>
            </div>
          
            <div id="divTabCahierMaterielBookableContainer"></div>     
        </div>


        <!-- Div Tab CahierMaterielCategories -->
        <div id="divTabCahierMaterielCategories" class="divTab">
            <div class="divCahierSpacers"></div>
            <div class="divMaterielSpacers">
                <div class="Buttons ReturnButtons" onclick="newTab('divTabCahierMaterielChoice')"></div>
            </div>
          
            <!--<br />-->
            <!--<div class="title">Activité</div>-->
            <div id="divTabCahierMaterielCategoriesContainer"></div>
        </div>


        <!-- Div Tab CahierMaterielElements-->
        <div id="divTabCahierMaterielElements" class="divTab">
            <div class="divCahierSpacers"></div>
            <div class="divMaterielSpacers">

                <div class="Buttons ReturnButtons" onclick="historyBackTab();" style="position:absolute;"></div>

                <div id="divTabCahierMaterielElementsButtonsContainer">
                    <div style="min-width:271px;">
                        <div id="divTabCahierMaterielElementsSelectCategorie" title="Catégorie">
                            <div class="Buttons NormalButtons"></div>
                            <select onchange="changeSelectCategorie(this); Requests.getBookablesList();"></select>
                        </div>
                    </div><div style="width:248px;">
                        <div id="divTabCahierMaterielElementsSelectSort" title="Trier par">
                            <div class="Buttons NormalButtons" id="divTabCahierMaterielElementsSelectIconSort" onclick="clickSortIcon(this); Requests.getBookablesList();"></div>
                            <select onchange="Requests.getBookablesList();">
                                <option value="code">Code</option>
                                <option value="name">Nom</option>
                                <option value="nbrBookings">Nbr de sorties</option>
                                <option value="lastUse">Dernière utilisation</option>
                            </select>
                        </div>
                    </div><div style="width:105px;">
                        <div id="divTabCahierMaterielElementsSelectPageSize" title="Nombre d'éléments affichés par page">
                            <div class="Buttons NormalButtons"></div>
                            <select onchange="Requests.getBookablesList();">
                                <option>5</option>
                                <option>10</option>
                                <option selected="selected">20</option>
                                <option>50</option>
                            </select>
                        </div>
                    </div><div style="min-width:100px;" title="Rechercher">
                        <input autocomplete="off" spellcheck="false" id="inputTabCahierMaterielElementsInputSearch" type="text" value="" placeholder="Rechercher" onkeyup="Requests.getBookablesList(this);" />
                    </div>
                </div>
                <div id="divTabCahierInfosBar" style="position:relative; top:0px; margin-top:5px; margin-bottom:5px;"></div>
            </div>
        
            <div class="divTabCahierMaterielElementsContainer"></div>

        </div>



        <!--Div Tab CahierConfirmation-->
        <div id="divTabCahierConfirmation" class="divTab">
            <div class="divCahierSpacers"></div>

            <div id="divTabConfirmationBookingsContainer"></div>

            <div id="divTabConfirmationOneBookingContainer"></div>

            <br /><br /><br /><br />
            <div style="text-align:center; margin-top:15px;">
                <div title="Annoncer votre sortie" class="Buttons ValidateButtons" style="display:inline-block; width:350px; height:70px; border-radius:25px; line-height:70px; padding-top:0px; text-align:center; background-image:none" onclick="Cahier.confirm()">Annoncer votre sortie</div>
            </div>

            <br />

        </div>

    </div>

</body>
</html>